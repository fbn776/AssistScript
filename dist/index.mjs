var T=class extends Error{constructor(e){super(e),this.name=this.constructor.name;}prettify(){return `${this.name}
Reason: ${this.message}`}};var f=class extends T{constructor(e){super(e),this.name="ASMakeError";}};var Ie="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function ye(){let e="";for(let t=0;t<16;t++)e+=Ie[Math.floor(Math.random()*Ie.length)];return e}var S=class{constructor(e,t){this.value=e,this.type=t,this.tokenID=ye();}};var D=class extends S{constructor(e){super(e,"TOKEN_NUMBER");}};var M=class extends S{constructor(e){super(e,"TOKEN_BOOLEAN");}};var Se=(m=>(m.number="number",m.string="string",m.boolean="boolean",m.command="command",m.array="array",m.any="any",m.void="void",m))(Se||{}),n=Se;function xe(r){for(let e of r)if(e!==r[0])return !1;return !0}function Be(r){return isNaN(Number(r.value))?r.value==="true"||r.value==="false"?new M(r.value==="true"):r:new D(+r.value)}function Ae(r){switch(typeof r){case"string":return n.string;case"number":return n.number;case"boolean":return n.boolean;default:return n.any}}function me(r){return /^(?![0-9-])[\w-]+$/.test(r)}var p=class r{constructor(){this._getStore=new Map;}static getInstance(){return r._instance||(r._instance=new r),r._instance}hasCommand(e){return this._getStore.has(e)}getCommand(e){return this._getStore.get(e)||null}addCommand(e){for(let t of e.names){if(this._getStore.has(t))throw new f(`The command name '${t}' already exists.`);if(!me(t))throw new f(`The command name '${t}' is invalid. Command names should only include alphanumeric characters and underscores. And it should not start with a number.`);this._getStore.set(t,e);}}get getStore(){return this._getStore}};var P=class{constructor(){this.stack=[];}push(e){this.stack.push(e);}pop(){return this.stack.pop()}peek(){return this.stack[this.stack.length-1]}isEmpty(){return this.stack.length===0}size(){return this.stack.length}clear(){this.stack=[];}display(){console.log(this.stack);}toArray(){return this.stack}};var F=class{constructor(e){this.index=0;this.tokens=e;}get length(){return this.tokens.length}get currIndex(){return this.index}nextToken(){return this.tokens[this.index++]||null}currToken(){return this.tokens[this.index]||null}hasMoreTokens(){return this.index<this.tokens.length}reset(){this.index=0;}};function ue(r,e,t=0){if(e>r.length)throw new Error(`Token position ${e} is greater than the length of the token array (${r.length})`);let a=0;for(let s=0;s<e;s++)a+=r.tokens[s].length+t;return a-t}function de(r,e,t=0){if(e>r.length)throw new Error(`Token position ${e} is greater than the length of the token array (${r.length})`);let a=0;for(let s=0;s<e;s++)a+=String(r.tokens[s].value).length+t;return a-t}var $=class extends S{constructor(e){super(e,"TOKEN_SEPARATOR");}},O=class extends ${constructor(){super("(");}},Q=class extends ${constructor(){super(")");}};var y=class extends S{constructor(e,t,a){super(e,"TOKEN_COMMAND"),this.params=t,this.isInternal=a||!1;}changeName(e){this.value=e;}get commandName(){return this.value}appendParam(e){this.params.push(e);}};var _e=(i=>(i.GenericError="GenericError",i.FoundNullToken="FoundNullToken",i.UnclosedQuote="UnclosedQuote",i.InvalidQuotes="InvalidQuote",i.InvalidBracket="InvalidBracket",i.EmptyCommand="EmptyCommand",i.PlaceholderError="PlaceholderError",i.UnclosedBracket="UnclosedBracket",i))(_e||{}),A=_e;var B=class extends T{constructor({name:t="ASLangError",reason:a,source:s,position:d,fix:u,note:m,errorCode:i=A.GenericError,errorToken:l}){super(a);this.toString=this.prettify();this.reason=a,this.name=t||"ASLangError",this.source=s,this.position=d,this.fix=u,this.note=m,this.errorCode=i,this.errorToken=l;}prettify(){let s=(this.position||0)-1,d=s,u=this.name+`
`;u+=`Reason: ${this.reason}
`;let m=String(this.source).trim();if(console.log(m),m.length>60){let i=s-20,l=s+20;m=(i>0?"... ":"")+m.substring(i,l)+(l<m.length?" ...":""),d=i>0?20+(i>0?4:0):s;}return u+=`
> ${m}
`,u+="  "+(d>0?"\u250C":"\u2502")+"\u2500".repeat(d<0?0:d)+(d>0?"\u2518":"")+`
`,this.errorToken&&(u+=`  \u251C error token: ${String(this.errorToken).trim()}
`),this.position!=null&&(u+=`  \u251C position: ${this.position}
`),this.fix&&(u+=`  \u251C fix: ${this.fix}
`),this.note&&(u+=`  \u251C note: ${this.note}
`),u+=`  \u2514 error code: ${this.errorCode}`,u}};var L=class extends S{constructor(e){super(e,"TOKEN_STRING");}};var E;(u=>{function r(m,i,l,c,b,_,R){if((m>0||i<l.length-1)&&(!(xe(c)&&xe(b))||c&&c[0]!=="("||b&&b[0]!==")"))throw new B({reason:`Error in token \`${l.substring(m,i+1)}\`. Only spaces and delimiting characters are allowed just before or after the quotes.`,note:`${c?"Found `"+c+"` before the token":""}; ${b?"Found `"+b+"` after the token":""}`,source:_,position:ue(R,R.currIndex,1)-l.length+m,errorCode:A.InvalidQuotes,errorToken:l.substring(m,i+1)})}u.hasInvalidQuoteError_TK=r;function e(m,i,l,c,b,_){if(m===i)throw new B({reason:`\`${l}\` was found, but not closed.`,source:c,position:ue(b,b.currIndex,1)-_.length+m,errorCode:A.UnclosedQuote,errorToken:l})}u.hasUnclosedQuoteError_TK=e;function t(m,i,l){let c=m.match(/^\(+/),b=m.match(/\)+$/),_=c!==null?c[0].length:0,R=b!==null?b.index:m.length,be=m.substring(_,R),fe=be.search(/([()])/);if(fe!==-1){let Fe=be[fe];throw new B({reason:`Found an invalid character '${Fe}'. Possibly because brackets cannot appear in-between characters.`,errorCode:A.InvalidBracket,source:i,position:ue(l,l.currIndex,1)-m.length+_+fe,errorToken:be,fix:"Insert space in-between the bracket"})}}u.hasInvalidBracketError_TK=t;function a(m,i,l,c){if(m===void 0)throw new B({reason:"Found empty command '()'",source:i,errorToken:"()",position:de(l,l.currIndex,1)-c.value.length-2,errorCode:A.EmptyCommand,fix:"Delete the empty command"})}u.hasEmptyBracketError_ST=a;function s(m,i,l,c){if(m.isEmpty())throw new B({reason:"Invalid bracket, no opening bracket found",errorCode:A.InvalidBracket,source:i,position:de(l,l.currIndex,1)-c.value.length,errorToken:")"})}u.hasRougeRightBracketError_ST=s;function d(m,i,l){if(!m.isEmpty()){let c=m.pop();throw new B({reason:"Invalid bracket, no closing bracket found",position:de(i,c.tokenPos,1)-c.value.length,source:l,errorToken:c.value,errorCode:A.InvalidBracket})}}u.hasRougeLeftBracketError_ST=d;})(E||(E={}));function we(r){return r.map(e=>e instanceof $?e:Be(e))}function Te(r){return r.split(/([()])/).filter(e=>e).map(e=>e===")"?new Q:e==="("?new O:new L(e))}function Ee(r){let e=new F(r.split(" ")),t=[];if(r==="")throw new B({reason:"Empty string.",source:r,errorCode:A.FoundNullToken});for(;e.hasMoreTokens();){let a=e.nextToken()||"",s=a.indexOf('"'),d=s===-1?a.indexOf("'"):s;if(s!==-1||d!==-1){let u=s===-1?d:s,m=s===-1?"'":'"',i="",l=e.currIndex;for(;e.hasMoreTokens()&&a.indexOf(m,e.currIndex===l?u+1:0)===-1;)i=i.concat(a+" "),a=e.nextToken()||"";i=i.concat(a);let c=i.indexOf(m),b=i.lastIndexOf(m);E.hasUnclosedQuoteError_TK(c,b,m,r,e,i);let _=i.substring(0,c),R=i.substring(b+1);E.hasInvalidQuoteError_TK(c,b,i,_,R,r,e),c!=0&&t.push(...Te(_)),t.push(new L(i.substring(c,b+1))),b!=i.length-1&&t.push(...Te(R));}else E.hasInvalidBracketError_TK(a,r,e),t.push(...Te(a));}return we(t)}function Ce(r){let e=Ee(r),t=new F(e),a=new P,s=new P;for(;t.hasMoreTokens();){let i=t.nextToken();if(i!==null)if(i instanceof O)a.push(i),s.push({value:i.value,tokenPos:t.currIndex});else if(i instanceof Q){let l=new y("",[]),c=new P;for(;!a.isEmpty()&&!(a.peek()instanceof O);)c.push(a.pop());E.hasRougeRightBracketError_ST(a,r,t,i),s.pop(),a.pop();let b=c.pop();for(E.hasEmptyBracketError_ST(b,r,t,i),b instanceof y?l=new y("eval",[b],!0):l.changeName(b.value);!c.isEmpty();)l.appendParam(c.pop());a.push(l);}else a.push(i);}E.hasRougeLeftBracketError_ST(s,t,r);let d=a.toArray(),u=d[0],m;u instanceof y?m=new y("eval",[u],!0):m=new y(d[0].value,[]);for(let i=1;i<d.length;i++)m.appendParam(d[i]);return m}function Le(r,e="  "){let t=" ";for(let a=0;a<r;a++)t+=e;return t}function Re(r,e){let t="";function a(s,d=0,u="  "){let m=s.tokenID===e;if(s instanceof y){t+=Le(d,u)+(d>0?"\u251C>":"\u2514> ")+s.value+(s.isInternal?" [internal]":"")+(m?" <-- Here":"")+`
`;for(let i of s.params)a(i,d+1,u);}else t+=Le(d,u)+"\u251C "+s.value+(m?" <-- Here":"")+`
`;}return a(r),t.trim()}var g=class extends T{constructor(e,t){super(e),this.data=t;}prettify(){var e;return `${this.name}
Reason: ${this.message}

${(e=this.data)==null?void 0:e.state.originalStr}
${Re(this.data.state.rootToken,this.data.occurredCmd.tokenID)}
`}};function De(r,e,t){let a;return t>e.getParamsLen-1?a=e.lastParam:a=e.types[t],a===n.any?{success:!0}:a===n.command&&!(r instanceof y)?{success:!1,foundType:a}:a===n.command&&r instanceof y?{success:!0,foundType:a,lazyEval:!0}:r instanceof D&&a!=n.number?{success:!0,foundType:a}:r instanceof M&&a!=n.boolean?{success:!0,foundType:a}:{success:!(r instanceof L&&a!=n.string),foundType:a}}function Me(r,e,t,a,s){let d=r.map((u,m)=>{let i=De(u,e,m);if(!i.success)throw new g(`The argument '${u.value}' doesn't match the required type
Required: ${i.foundType}
Found: ${u.type.substring(6).toLowerCase()}`,{state:t,occurredCmd:u});return u instanceof y?ve(u,a,t,i.lazyEval):u.value});return s.exec(a.contextProvider,...d)}function ve(r,e,t,a){let s=e.store.getCommand(r.commandName);if(e.contextProvider.currentCommand=r,e.contextProvider.currentState=t,!s)throw new g(`Command '${r.commandName}' not found.`,{state:t,occurredCmd:r});let d=r.params,u=s.params;if(!u.isVariable&&d.length!==u.num)throw new g(`The command '${r.commandName}' expects ${u.num} arguments, but found ${d.length}.`,{state:t,occurredCmd:r});if(u.isVariable&&u.num===-2&&d.length===0)throw new g(`The command '${r.commandName}' expects at least one argument. But none found.`,{state:t,occurredCmd:r});return a?()=>Me(d,u,t,e,s):Me(d,u,t,e,s)}function Qe(r){return r.trim().replace(/\s+/g," ")}var W=class{static run(e,t){e=Qe(e);let a=Ce(e);return ve(a,t,{rootToken:a,originalStr:e})}};var X=class{constructor(){this.var_store=new Map;this.array_store=new Map;}setVariable(e,t,a){let s=a||Ae(t);this.var_store.set(e,{value:t,type:s});}setArray(e,t){this.array_store.set(e,{value:t});}getVariable(e){return this.var_store.get(e)}getArray(e){return this.array_store.get(e)}appendToArray(e,t){if(!this.array_store.has(e))return {success:!1,message:`Array ${e} does not exist.`};let a=this.array_store.get(e);return a.value.push(t),this.array_store.set(e,{value:a.value}),{success:!0}}deleteVariable(e){return this.var_store.delete(e)}deleteArray(e){return this.array_store.delete(e)}};var K=class{constructor(){this.stdout={print:console.log};this.LOOP_LIMIT=200;this.isBreakCalled=!1;this.isContinueCalled=!1;this.isInLoop=!1;this.storeService=new X;this.currCmd=null;this.currState=null;}get currentCommand(){return this.currCmd}set currentCommand(e){this.currCmd=e;}get currentState(){return this.currState}set currentState(e){this.currState=e;}};var N=class{constructor(e,t,a,s,d,u){this.category=null;this.title=e,this.aliases=t,this.body=a,this.syntax=s,this.example=d||null,this.note=u||null;}};var Y=class{constructor(e,...t){this.types=[];this.isVariable=!1;if(t.length===0&&e===-2)throw new f("The command expects at least one parameter. But none found.");if(e>-1&&t.length>e)throw new f(`The command expects ${e} parameter(s), but found more than enough parameters (${t.length})`);this.types=t,this.num=e,e<=-1&&(this.isVariable=!0),this.lastParam=this.types[this.types.length-1]||n.any;}get getParamsLen(){return this.types.length}};var Z=class{constructor(e,t,a,s,d){this.names=e,this.docs=t,this.params=a,this.returnType=s,this.exec=d;}};var h=class{constructor(e){this._names=null;this._docs=null;this._args=null;this._returnType=null;this._exec=null;this._category=null;this._category=e||null;}names(...e){return this._names=e,this}directDocs(e,t,a,s,d,u){return this._docs=new N(e,t||[],a,s,d,u),this}docs(e){return this._docs=e,this}args(e,...t){return this._args=new Y(e,...t),this}returnType(e){return this._returnType=e,this}run(e){return this._exec=e,this}build(){if(!this._names)throw new f("Command name(s) not specified.");if(!this._docs)throw new f("Command documentation not specified.");if(!this._args)throw new f("Command arguments not specified.");if(!this._exec)throw new f("Command execution function not specified.");if(!this._returnType)throw new f("Command return type not specified.");this._category&&(this._docs.category=this._category);let e=new Z(this._names,this._docs,this._args,this._returnType,this._exec);return this.reset(),e}reset(){this._names=null,this._docs=null,this._args=null,this._returnType=null,this._exec=null;}};var o=class{constructor(){this.title1=null;this.aliases1=[];this.body1=null;this.syntax1=null;this.example1=null;this.note1=null;}name(e){return this.title1=e,this}aliases(...e){return this.aliases1=e,this}description(e){return this.body1=e,this}syntax(e){return this.syntax1=e,this}example(e){return this.example1=e,this}note(e){return this.note1=e,this}build(){if(this.title1===null)throw new f("Title is a required field for documentation, it is not set");if(this.body1===null)throw new f("Body is a required field for documentation, it is not set");if(this.syntax1===null)throw new f("Syntax is a required field for documentation, it is not set");if(this.example1===null)throw new f("Example is a required field for documentation, it is not set");return new N(this.title1,this.aliases1,this.body1,this.syntax1,this.example1,this.note1||void 0)}};var Pe="\u250C";var $e="\u2500";var G="\u251C";function Oe(r){let e=r.docs,t=`
 `+e.title+` 
`;return t+=Pe+$e.repeat(e.title.length+1)+`
`,e.aliases.length>0&&(t+=`${G} Aliases: ${e.aliases.join(", ")}
`),t+=G+" "+e.body+`
`,t+=G+" Syntax: "+e.syntax+`
`,e.example&&(t+=G+" Example: "+e.example+`
`),e.note&&(t+=G+" Note: "+e.note+`
`),t}var ee=p.getInstance(),le=new h("Basic Commands");ee.addCommand(le.names("test").directDocs("test",null,"A test command to check if AssistScript is working","test","test").args(0).returnType(n.string).run(()=>"AssistScript is working!").build());ee.addCommand(le.names("print","p","display","show","echo","log").docs(new o().name("print").aliases("p","display","show","echo","log").description("Prints the given message to the stdout").syntax("print <message>").example('print "Hello, world!"').build()).args(-2,n.string).returnType(n.void).run((r,...e)=>{r.stdout.print(e.join(" "));}).build());ee.addCommand(le.names("help","h").docs(new o().name("help").aliases("h").description("Displays the help message for the given command.").syntax("help <command>").example("help print").build()).args(-1,n.string).returnType(n.void).run((r,e)=>{if(!e)return `Help commands helps you read the documentation of the given command.

Syntax: help <command>`;let t=ee.getCommand(e);if(!t)return `Command '${e}' not found.`;r.stdout.print(Oe(t));}).build());ee.addCommand(le.names("exec","execute","eval","evaluate").docs(new o().name("execute").aliases("eval","evaluate").description("Takes in any number of commands and executes them sequentially and returns the last executed command's return. Useful when you want to run multiple commands sequentially").syntax("eval <cmd1> <cmd2> ... <cmdN>").example("eval (set x 10) (set y 30) (print x = (get x)) (print y = (get y))").build()).args(-1,n.any).returnType(n.any).run((r,...e)=>e[e.length-1]).build());var re=p.getInstance(),ne=new h("Logical Operators");re.addCommand(ne.names("and").args(2,n.boolean,n.boolean).docs(new o().name("and").description("Checks if both conditions are true.").syntax("and <boolean> <boolean>").example("and true false").build()).returnType(n.boolean).run((r,e,t)=>e&&t).build());re.addCommand(ne.names("or").args(2,n.boolean,n.boolean).docs(new o().name("or").description("Checks if either condition is true.").syntax("or <boolean> <boolean>").example("or true false").build()).returnType(n.boolean).run((r,e,t)=>e||t).build());re.addCommand(ne.names("not").args(1,n.boolean).docs(new o().name("not").description("Negates the condition.").syntax("not <boolean>").example("not true").build()).returnType(n.boolean).run((r,e)=>!e).build());re.addCommand(ne.names("TRUE").args(0).docs(new o().name("TRUE").description("Returns true.").syntax("TRUE").example("and (TRUE) (TRUE)").build()).returnType(n.boolean).run(()=>!0).build());re.addCommand(ne.names("FALSE").args(0).docs(new o().name("FALSE").description("Returns false.").syntax("FALSE").example("FALSE").build()).returnType(n.boolean).run(()=>!1).build());var H=p.getInstance(),J=new h("Comparison");H.addCommand(J.names("lt","less-than").args(2,n.number,n.number).docs(new o().name("lt").aliases("less-than").description("Checks if the first number is less than the second.").syntax("lt <number> <number>").example("lt 2 3").build()).returnType(n.boolean).run((r,e,t)=>e<t).build());H.addCommand(J.names("lte","less-than-equal").args(2,n.number,n.number).docs(new o().name("lte").aliases("less-than-equal").description("Checks if the first number is less than or equal to the second.").syntax("lte <number> <number>").example("lte 2 3").build()).returnType(n.boolean).run((r,e,t)=>e<=t).build());H.addCommand(J.names("gt","greater-than").args(2,n.number,n.number).docs(new o().name("gt").aliases("greater-than").description("Checks if the first number is greater than the second.").syntax("gt <number> <number>").example("gt 2 3").build()).returnType(n.boolean).run((r,e,t)=>e>t).build());H.addCommand(J.names("gte","greater-than-equal").args(2,n.number,n.number).docs(new o().name("gte").aliases("greater-than-equal").description("Checks if the first number is greater than or equal to the second.").syntax("gte <number> <number>").example("gte 2 3").build()).returnType(n.boolean).run((r,e,t)=>e>=t).build());H.addCommand(J.names("equals","eq","is").args(2,n.any,n.any).docs(new o().name("equals").aliases("e","is").description("Checks if the two values are equal.").syntax("equals <value> <value>").example("equals 2 3").build()).returnType(n.boolean).run((r,e,t)=>e===t).build());H.addCommand(J.names("ne","not-equals","not-is").args(2,n.any,n.any).docs(new o().name("ne").aliases("not-equals","not-is").description("Checks if the two values are not equal.").syntax("ne <value> <value>").example("ne 2 3").build()).returnType(n.boolean).run((r,e,t)=>e!==t).build());var te=p.getInstance(),ae=new h("Arithmetics");te.addCommand(ae.names("add","sum","plus","addition").docs(new o().name("add").aliases("sum","plus","addition").description("Adds the given numbers together and returns the result.").syntax("add <number1> <number2> ...").example("add 1 2 3 4 5").build()).returnType(n.number).args(-2,n.number).run((r,...e)=>e.reduce((t,a)=>t+a,0)).build());te.addCommand(ae.names("subtract","sub","minus","subtraction").docs(new o().name("sub").aliases("sub","minus","subtraction").description("Subtracts the given numbers and returns the result.").syntax("subtract <number1> <number2> ...").example("subtract 10 5 2").build()).returnType(n.number).args(-2,n.number).run((r,...e)=>e.reduce((t,a)=>t-a)).build());te.addCommand(ae.names("multiply","mult","mul","product","multiplication").docs(new o().name("mult").aliases("multiply","mul","product","multiplication").description("Multiplies the given numbers and returns the result.").syntax("multiply <number1> <number2> ...").example("multiply 2 3 4").build()).returnType(n.number).args(-2,n.number).run((r,...e)=>e.reduce((t,a)=>t*a,1)).build());te.addCommand(ae.names("divide","div","division").docs(new o().name("div").aliases("divide","division").description("Divides the given numbers and returns the result.").syntax("divide <number1> <number2> ...").example("divide 10 2 2").build()).returnType(n.number).args(-2,n.number).run((r,...e)=>e.reduce((t,a)=>t/a)).build());te.addCommand(ae.names("modulo","mod","remainder").docs(new o().name("mod").aliases("modulo","remainder").description("Calculates the remainder of the division of the given numbers.").syntax("modulo <number1> <number2>").example("modulo 10 3").build()).returnType(n.number).args(2,n.number).run((r,e,t)=>e%t).build());function Ne(r,e){return e===0?r:Ne(e,r%e)}function ke(...r){let e=r[0];for(let t=1;t<r.length;t++)e=Ne(e,r[t]);return e}var x=p.getInstance(),w=new h("Math Functions");x.addCommand(w.names("abs","absolute").docs(new o().name("abs").aliases("absolute").description("Returns the absolute value of the given number.").syntax("abs <number>").example("abs -5").build()).returnType(n.number).args(1,n.number).run((r,e)=>Math.abs(e)).build());x.addCommand(w.names("round").docs(new o().name("round").description("Rounds the given number to the nearest integer.").syntax("round <number>").example("round 3.14").build()).returnType(n.number).args(1,n.number).run((r,e)=>Math.round(e)).build());x.addCommand(w.names("ceil","ceiling").docs(new o().name("ceil").aliases("ceiling").description("Rounds the given number up to the nearest integer.").syntax("ceil <number>").example("ceil 3.14").build()).returnType(n.number).args(1,n.number).run((r,e)=>Math.ceil(e)).build());x.addCommand(w.names("floor").docs(new o().name("floor").description("Rounds the given number down to the nearest integer.").syntax("floor <number>").example("floor 3.14").build()).returnType(n.number).args(1,n.number).run((r,e)=>Math.floor(e)).build());x.addCommand(w.names("truncate","trunc").docs(new o().name("truncate").aliases("trunc").description("Truncates the given number to the nearest integer towards zero.").syntax("truncate <number>").example("truncate 3.14").build()).returnType(n.number).args(1,n.number).run((r,e)=>Math.trunc(e)).build());x.addCommand(w.names("min","minimum").docs(new o().name("min").aliases("minimum").description("Returns the smallest number from the given numbers.").syntax("min <number1> <number2> ...").example("min 2 5 1 9 3").build()).returnType(n.number).args(-2,n.number).run((r,...e)=>Math.min(...e)).build());x.addCommand(w.names("max","maximum").docs(new o().name("max").aliases("maximum").description("Returns the largest number from the given numbers.").syntax("max <number1> <number2> ...").example("max 2 5 1 9 3").build()).returnType(n.number).args(-2,n.number).run((r,...e)=>Math.max(...e)).build());x.addCommand(w.names("clamp").docs(new o().name("clamp").description("Clamps the given number within the given range.").syntax("clamp <number> <min> <max>").example("clamp 5 1 10").build()).returnType(n.number).args(3,n.number).run((r,e,t,a)=>Math.min(Math.max(e,t),a)).build());x.addCommand(w.names("sign").docs(new o().name("sign").description(`Returns the sign of the given number.
Returns 1 if positive else -1.
For positive 0 => +0
For negative 0 => -0`).syntax("sign <number>").example("sign -5").build()).returnType(n.number).args(1,n.number).run((r,e)=>Math.sign(e)).build());x.addCommand(w.names("pow","power").docs(new o().name("pow").aliases("power").description("Raises the first number to the power of the second number.").syntax("pow <number1> <number2>").example("pow 2 3").build()).returnType(n.number).args(2,n.number).run((r,e,t)=>Math.pow(e,t)).build());x.addCommand(w.names("sqrt","root").docs(new o().name("sqrt").aliases("root").description("Calculates the square root of the given number.").syntax("sqrt <number>").example("sqrt 9").build()).returnType(n.number).args(1,n.number).run((r,e)=>Math.sqrt(e)).build());x.addCommand(w.names("factorial","fact").docs(new o().name("factorial").aliases("fact").description("Calculates the factorial of the given number.").syntax("factorial <number>").example("factorial 5").build()).returnType(n.number).args(1,n.number).run((r,e)=>{let t=1;for(let a=1;a<=e;a++)t*=a;return t}).build());x.addCommand(w.names("gcd","hcf").docs(new o().name("gcd").aliases("hcf").description("Calculates the greatest basic divisor of the given numbers.").syntax("gcd <number1> <number2> ...").example("gcd 24 36").build()).returnType(n.number).args(-2,n.number).run((r,...e)=>ke(...e)).build());x.addCommand(w.names("lcm").docs(new o().name("lcm").description("Calculates the least basic multiple of the given numbers.").syntax("lcm <number1> <number2> ...").example("lcm 24 36").build()).returnType(n.number).args(-2,n.number).run((r,...e)=>{if(e.length<2)throw new g("At least 2 numbers are required for lcm",{state:r.currentState,occurredCmd:r.currentCommand});let t=e[0];for(let a=1;a<e.length;a++)t=t*e[a]/ke(t,e[a]);return t}).build());x.addCommand(w.names("log2").docs(new o().name("log2").description("Calculates the base 2 logarithm of the given number.").syntax("log2 <number>").example("log2 8").build()).returnType(n.number).args(1,n.number).run((r,e)=>Math.log2(e)).build());x.addCommand(w.names("log10").docs(new o().name("log10").description("Calculates the base 10 logarithm of the given number.").syntax("log10 <number>").example("log10 100").build()).returnType(n.number).args(1,n.number).run((r,e)=>Math.log10(e)).build());x.addCommand(w.names("ln","loge").docs(new o().name("ln").aliases("loge").description("Calculates the natural logarithm of the given number.").syntax("ln <number>").example("ln 2.718").build()).returnType(n.number).args(1,n.number).run((r,e)=>Math.log(e)).build());var C=p.getInstance(),v=new h("Trigonometry");C.addCommand(v.names("sin","sine").docs(new o().name("sin").aliases("sine").description("Returns the sine of the given angle in radians.").syntax("sin <angle>").example("sin 90").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.sin(e)).build());C.addCommand(v.names("cos","cosine").docs(new o().name("cos").aliases("cosine").description("Returns the cosine of the given angle in radians.").syntax("cos <angle>").example("cos 90").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.cos(e)).build());C.addCommand(v.names("tan","tangent").docs(new o().name("tan").aliases("tangent").description("Returns the tangent of the given angle in radians.").syntax("tan <angle>").example("tan 90").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.tan(e)).build());C.addCommand(v.names("asin","arcsine").docs(new o().name("asin").aliases("arcsine").description("Returns the arcsine of the given angle in radians.").syntax("asin <angle>").example("asin 1").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.asin(e)).build());C.addCommand(v.names("acos","arccosine").docs(new o().name("acos").aliases("arccosine").description("Returns the arccosine of the given angle in radians.").syntax("acos <angle>").example("acos 1").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.acos(e)).build());C.addCommand(v.names("atan","arctangent").docs(new o().name("atan").aliases("arctangent").description("Returns the arctangent of the given angle in radians.").syntax("atan <angle>").example("atan 1").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.atan(e)).build());C.addCommand(v.names("atan2","arctangent2").docs(new o().name("atan2").aliases("arctangent2").description("Returns the arctangent of the quotient of its arguments.").syntax("atan2 <y> <x>").example("atan2 1 1").build()).args(2,n.number).returnType(n.number).run((r,e,t)=>Math.atan2(e,t)).build());C.addCommand(v.names("sinh","hsine").docs(new o().name("sinh").aliases("hsine").description("Returns the hyperbolic sine of the given angle in radians.").syntax("sinh <angle>").example("sinh 90").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.sinh(e)).build());C.addCommand(v.names("cosh","hcosine").docs(new o().name("cosh").aliases("hcosine").description("Returns the hyperbolic cosine of the given angle in radians.").syntax("cosh <angle>").example("cosh 90").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.cosh(e)).build());C.addCommand(v.names("tanh","htangent").docs(new o().name("tanh").aliases("htangent").description("Returns the hyperbolic tangent of the given angle in radians.").syntax("tanh <angle>").example("tanh 90").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.tanh(e)).build());C.addCommand(v.names("asinh","arcsineh").docs(new o().name("asinh").aliases("arcsineh").description("Returns the hyperbolic arcsine of the given angle in radians.").syntax("asinh <angle>").example("asinh 1").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.asinh(e)).build());C.addCommand(v.names("acosh","arccosineh").docs(new o().name("acosh").aliases("arccosineh").description("Returns the hyperbolic arccosine of the given angle in radians.").syntax("acosh <angle>").example("acosh 1").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.acosh(e)).build());C.addCommand(v.names("atanh","arctangenth").docs(new o().name("atanh").aliases("arctangenth").description("Returns the hyperbolic arctangent of the given angle in radians.").syntax("atanh <angle>").example("atanh 1").build()).args(1,n.number).returnType(n.number).run((r,e)=>Math.atanh(e)).build());C.addCommand(v.names("degToRad","d2r","deg2rad","deg").docs(new o().name("deg").aliases("d2r","deg2rad","degToRad").description("Converts the given angle in degrees to radians.").syntax("degToRad <angle>").example("degToRad 90").build()).args(1,n.number).returnType(n.number).run((r,e)=>e*Math.PI/180).build());C.addCommand(v.names("radToDeg","r2d","rad2deg","rad").docs(new o().name("rad").aliases("r2d","rad2deg","radToDeg").description("Converts the given angle in radians to degrees.").syntax("radToDeg <angle>").example("radToDeg 1.57").build()).args(1,n.number).returnType(n.number).run((r,e)=>e*180/Math.PI).build());var ce=p.getInstance(),pe=new h("Random");ce.addCommand(pe.names("random","rand","randf").docs(new o().name("random").aliases("rand","randf").description("Returns a random float between the specified ranges (optional). If no range is given then random float b/w 0 and 1, if one is specified number b/w 0 and that num.").syntax("random <min?> <max?>").example("random 5 10").build()).args(-1,n.number).returnType(n.number).run((r,e,t)=>e&&t?Math.random()*(t-e)+e:e?Math.random()*e:Math.random()).build());ce.addCommand(pe.names("randomInt","randInt","randi").docs(new o().name("randomInt").aliases("randInt","randi").description("Returns a random integer between the specified ranges (optional). If no range is given then random integer b/w 0 and 1, if one is specified number b/w 0 and that num.").syntax("randomInt <min?> <max?>").example("randomInt 5 10").build()).args(-1,n.number).returnType(n.number).run((r,e,t)=>Math.floor(e&&t?Math.random()*(t-e+1)+e:e?Math.random()*e:Math.random())).build());ce.addCommand(pe.names("randomBool","randBool","randb").docs(new o().name("randomBool").aliases("randBool","randb").description("Returns a random boolean value.").syntax("randomBool").example("randomBool").build()).args(0).returnType(n.boolean).run(()=>Math.random()<.5).build());ce.addCommand(pe.names("randomChar","randChar","randc").docs(new o().name("randomChar").aliases("randChar","randc").description("Returns a random character from the ASCII table.").syntax("randomChar").example("randomChar").build()).args(0).returnType(n.string).run(()=>String.fromCharCode(Math.floor(Math.random()*256))).build());var q=p.getInstance(),V=new h("Constants");q.addCommand(V.names("pi","PI").docs(new o().name("pi").aliases("PI").description("Returns the mathematical constant \u03C0.").syntax("pi").example("pi").build()).args(0).returnType(n.number).run(()=>Math.PI).build());q.addCommand(V.names("e","E").docs(new o().name("E").aliases("e").description("Returns the mathematical constant e.").syntax("e").example("e").build()).args(0).returnType(n.number).run(()=>Math.E).build());q.addCommand(V.names("sqrt2","root2").docs(new o().name("sqrt2").aliases("root2").description("Returns the square root of 2.").syntax("sqrt2").example("sqrt2").build()).args(0).returnType(n.number).run(()=>Math.SQRT2).build());q.addCommand(V.names("ln2").docs(new o().name("ln2").description("Returns the natural logarithm of 2.").syntax("ln2").example("ln2").build()).args(0).returnType(n.number).run(()=>Math.LN2).build());q.addCommand(V.names("ln10").docs(new o().name("ln10").description("Returns the natural logarithm of 10.").syntax("ln10").example("ln10").build()).args(0).returnType(n.number).run(()=>Math.LN10).build());q.addCommand(V.names("log2e").docs(new o().name("log2e").description("Returns the base 2 logarithm of e.").syntax("log2e").example("log2e").build()).args(0).returnType(n.number).run(()=>Math.LOG2E).build());q.addCommand(V.names("log10e").docs(new o().name("log10e").description("Returns the base 10 logarithm of e.").syntax("log10e").example("log10e").build()).args(0).returnType(n.number).run(()=>Math.LOG10E).build());var j=class extends T{prettify(){return `Gracefully exited: ${this.message}`}};var U=class extends T{constructor(e){super(e),this.name="ASInterrupt";}};var oe=p.getInstance(),se=new h("Loops");function he(r){try{r();}catch(e){if(!(e instanceof U))throw e}}oe.addCommand(se.names("break").args(0).docs(new o().name("break").description("Breaks out of the loop in which it is called.").syntax("break").note("Internally it throws an `ASInterrupt` error to interrupt the execution, but is gracefully handled. When implementing your own commands, you should always handle this error").example(`
(set i 0)
(while (lt (get i) 10) (
    (if (eq (get i) 5) (
        (print i is 5)
        (break)
    ))
    
    (print (get i))    
    (incr i)    
))`).build()).returnType(n.void).run(r=>{throw r.isInLoop?(r.isBreakCalled=!0,new U("Continue called")):new g("`break` can only be used inside a loop.",{state:r.currentState,occurredCmd:r.currentCommand})}).build());oe.addCommand(se.names("continue").args(0).docs(new o().name("continue").description("Skips the rest of the loop body and does the next iteration in which it is called.").note("Internally it throws an `ASInterrupt` error to interrupt the execution, but is gracefully handled. When implementing your own commands, you should always handle this error").syntax("continue").example(`
(set i 0)
(while (lt (get i) 10) (
    (if (eq (get i) 5) (
        (print i is 5)
        (break)
    ))
    
    (print (get i))    
    (incr i)    
))`).build()).returnType(n.void).run(r=>{throw r.isInLoop?(r.isContinueCalled=!0,new U("Continue called")):new g("`continue` can only be used inside a loop.",{state:r.currentState,occurredCmd:r.currentCommand})}).build());oe.addCommand(se.names("while").args(2,n.command).docs(new o().name("while").description("Loops while the condition is true.").syntax("while <condition> <command>").example(`while (TRUE) (
    (p (get i))
    (break)
)`).build()).returnType(n.void).run((r,e,t)=>{let a=0;for(r.isInLoop=!0;e();){if(r.isBreakCalled){r.isBreakCalled=!1;break}if(a++>=r.LOOP_LIMIT)throw r.isInLoop=!1,new j(`Loop limit of ${r.LOOP_LIMIT} exceeded.`);r.isContinueCalled?r.isContinueCalled=!1:he(t);}r.isInLoop=!1;}).build());oe.addCommand(se.names("repeat").args(2,n.number,n.command).docs(new o().name("repeat").description("Repeats the given command n times.").syntax("repeat <number> <command>").example("repeat 5 (print Hello, world!)").build()).returnType(n.void).run((r,e,t)=>{if(e>r.LOOP_LIMIT||e<0)throw new g(`Repetition cannot exceed ${r.LOOP_LIMIT} or be negative.`,{state:r.currentState,occurredCmd:r.currentCommand});r.isInLoop=!0;for(let a=0;a<e;a++){if(r.isBreakCalled){r.isBreakCalled=!1;break}r.isContinueCalled?r.isContinueCalled=!1:he(t);}r.isInLoop=!1;}).build());oe.addCommand(se.names("for").args(4,n.command,n.command,n.command,n.command).docs(new o().name("for").description("Loops through the given range. <init> is executed once at the beginning, <condition> is checked before each iteration, <increment> is executed at each iteration.").syntax("for <init> <condition> <increment> <command>").example("for (set i 0) (lt (get i) 10) (incr i) (print i = (get i))").build()).returnType(n.void).run((r,e,t,a,s)=>{e(),r.isInLoop=!0;let d=0;for(;t();){if(r.isBreakCalled){r.isBreakCalled=!1;break}if(d++>=r.LOOP_LIMIT)throw r.isInLoop=!1,new j(`Loop limit of ${r.LOOP_LIMIT} exceeded.`);r.isContinueCalled?r.isContinueCalled=!1:(he(s),r.isBreakCalled||he(a));}r.isInLoop=!1;}).build());var qe=p.getInstance(),Ve=new h("Conditionals");qe.addCommand(Ve.names("if").args(2,n.command,n.command).docs(new o().name("if").description("Executes a command if the condition is true.").syntax("if <condition> <command>").example("if (lt 10 20) (print 10 < 20)").build()).returnType(n.void).run((r,e,t)=>{e()&&t();}).build());qe.addCommand(Ve.names("if-else","ife").args(4,n.command,n.command,n.string,n.command).docs(new o().name("if-else").aliases("ife").description("Executes a command if the condition is true, otherwise executes another command.").syntax("if <condition> <command> else <command>").example("if (lt 10 20) (print 10 < 20) else (print 10 >= 20)").build()).returnType(n.void).run((r,e,t,a,s)=>{if(a!=="else")throw new g(`Expected 'else' but got '${a}'`,{state:r.currentState,occurredCmd:r.currentCommand});e()?t():s();}).build());var k=p.getInstance(),I=new h("Variables");function Ue(r,e){var t;if(!me(r))throw new g(`Invalid variable name: ${r}. The variable name should only contain letters, numbers, underscores and hyphens. And should not start with a number.`,{state:e.currentState,occurredCmd:(t=e.currentCommand)==null?void 0:t.params[0]})}k.addCommand(I.names("set","set-variable","var").docs(new o().name("set").aliases("set-variable","var").description("Used to create a new variable, if the variable name already exits it updates the existing one.").syntax("set <variable-name> <value>").example("set x 5").build()).returnType(n.any).args(2,n.string,n.any).run((r,e,t)=>(Ue(e,r),r.storeService.setVariable(e,t),t)).build());k.addCommand(I.names("get","get-variable").docs(new o().name("get").aliases("get-variable").description("Returns the value of a variable.").syntax("get <variable-name>").example("get x").build()).returnType(n.any).args(1,n.string).run((r,e)=>{var a;let t=r.storeService.getVariable(e);if(t)return t.value;throw new g(`Variable ${e} does not exist.`,{state:r.currentState,occurredCmd:(a=r.currentCommand)==null?void 0:a.params[0]})}).build());k.addCommand(I.names("delete","delete-variable").docs(new o().name("delete").aliases("delete-variable").description("Deletes a variable. Returns true if the variable existed and is deleted, false otherwise.").syntax("delete <variable-name>").example("delete x").build()).returnType(n.boolean).args(1,n.string).run((r,e)=>r.storeService.deleteVariable(e)).build());function ze(r,e){let t=r.storeService.getVariable(e);if(!t)throw new g(`Variable '${e}' not found.`,{state:r.currentState,occurredCmd:r.currentCommand});if(t.type!==n.number)throw new g(`Variable '${e}' is not a number.`,{state:r.currentState,occurredCmd:r.currentCommand});return t}k.addCommand(I.names("incr","increment").docs(new o().name("incr").aliases("increment").description("Increments the given variable by 1.").syntax("incr <varname>").example("incr i").build()).args(1,n.string).returnType(n.number).run((r,e)=>{let t=ze(r,e);return r.storeService.setVariable(e,t.value+1),t.value+1}).build());k.addCommand(I.names("decr","decrement").docs(new o().name("decr").aliases("decrement").description("Decrements the given variable by 1.").syntax("decr <varname>").example("decr i").build()).args(1,n.string).returnType(n.number).run((r,e)=>{let t=ze(r,e);return r.storeService.setVariable(e,t.value-1),t.value-1}).build());function z(r,e,t,a){var s,d;if(!r)throw new g(`Array '${e}' does not exist.`,{state:t.currentState,occurredCmd:(s=t.currentCommand)==null?void 0:s.params[0]});if(a&&(a<0||a>=r.value.length))throw new g(`Index ${a} out of bounds for array '${e}' of length ${e.length}.`,{state:t.currentState,occurredCmd:(d=t.currentCommand)==null?void 0:d.params[1]})}k.addCommand(I.names("array","arr").docs(new o().name("array").aliases("arr").description("Creates a new array and stores it. If the array name already exists, it overwrites the existing one.").syntax("array <array-name> <value1> <value2> ...").example("array arr 1 2 3 4").build()).returnType(n.array).args(-2,n.string,n.any).run((r,e,...t)=>(Ue(e,r),r.storeService.setArray(e,t),t)).build());k.addCommand(I.names("get-arr","getarr","array-get").docs(new o().name("get-arr").aliases("getarr","array-get").description("Returns the array stored in the variable.").syntax("get-arr <array-name>").example("(array arr 1 2 3) (get-arr arr)").build()).returnType(n.array).args(1,n.string).run((r,e)=>{let t=r.storeService.getArray(e);if(t)return t.value;z(t,e,r);}).build());k.addCommand(I.names("index").docs(new o().name("index").description("Returns the value at the given index of the array.").syntax("index <array-name> <index>").example("(array arr 1 2 3 4) (index arr 2)").build()).returnType(n.any).args(2,n.string,n.number).run((r,e,t)=>{let a=r.storeService.getArray(e);return z(a,e,r,t),a.value[t]}).build());k.addCommand(I.names("setarr","setat","set-arr","set-at").docs(new o().name("setarr").aliases("setat","set-arr","set-at").description("Sets the value at the given index of the array.").syntax("setarr <array-name> <index> <value>").example("(array arr 1 2 3 4) (setarr arr 2 10)").build()).returnType(n.any).args(3,n.string,n.number,n.any).run((r,e,t,a)=>{let s=r.storeService.getArray(e);return z(s,e,r,t),s.value[t]=a,r.storeService.setArray(e,s.value),a}).build());k.addCommand(I.names("length","len","arr-length").docs(new o().name("length").aliases("len","arr-length").description("Returns the length of the array.").syntax("length <array-name>").example("(array arr 1 2 3 4) (length arr)").build()).returnType(n.number).args(1,n.string).run((r,e)=>{let t=r.storeService.getArray(e);return z(t,e,r),t.value.length}).build());k.addCommand(I.names("delete-arr","deletearr","del-arr","delarr").docs(new o().name("delete-arr").aliases("deletearr","del-arr","delarr").description("Deletes the array.").syntax("delete-arr <array-name>").example("(array arr 1 2 3 4) (delete-arr arr)").build()).returnType(n.boolean).args(1,n.string).run((r,e)=>r.storeService.deleteArray(e)).build());k.addCommand(I.names("append","append-arr","appendarr").docs(new o().name("append").aliases("append-arr","appendarr").description("Appends the value to the end of the array.").syntax("append <array-name> <value>").example("(array arr 1 2 4 5) (append arr 10)").build()).returnType(n.any).args(2,n.string,n.any).run((r,e,t)=>{let a=r.storeService.getArray(e);return z(a,e,r),a.value.push(t),r.storeService.setArray(e,a.value),t}).build());k.addCommand(I.names("pop","pop-arr","poparr").docs(new o().name("pop").aliases("pop-arr","poparr").description("Removes and returns the last element of the array.").syntax("pop <array-name>").example("(array arr 1 2 4 5) (pop arr)").build()).returnType(n.any).args(1,n.string).run((r,e)=>{let t=r.storeService.getArray(e);z(t,e,r);let a=t.value.pop();return r.storeService.setArray(e,t.value),a}).build());k.addCommand(I.names("insert","insert-arr","insertarr").docs(new o().name("insert").aliases("insert-arr","insertarr").description("Inserts the value at the given index of the array.").syntax("insert <array-name> <index> <value>").example("(array arr 1 2 4 5) (insert arr 2 10)").build()).returnType(n.any).args(3,n.string,n.number,n.any).run((r,e,t,a)=>{let s=r.storeService.getArray(e);return z(s,e,r,t),s.value.splice(t,0,a),r.storeService.setArray(e,s.value),a}).build());var ge=class{constructor(e){this.store=p.getInstance();this.contextProvider=e||new K;}run(e){return W.run(e,this)}sandboxRun(e){try{return this.run(e)}catch(t){if(t instanceof T)return t.prettify();console.error(t);}}};

export { ge as AssistScript, K as BaseContextProvider, h as CommandBuilder, p as CommandStore, n as DataType, o as DocsBuilder };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.mjs.map